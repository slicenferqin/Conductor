# Conductor

> æäº¤éœ€æ±‚ï¼Œå–æ¯å’–å•¡ï¼Œå›æ¥æ‹¿ä»£ç ã€‚

Conductor å°† AI è¾…åŠ©å¼€å‘ä»**åŒæ­¥äº¤äº’**å˜ä¸º**å¼‚æ­¥æ‰˜ç®¡**ã€‚åˆ«å†ç›¯ç€ AI å†™ä»£ç äº†ã€‚

[English](./README.md) | ä¸­æ–‡

## ç—›ç‚¹

ç°åœ¨ç”¨ AI åšé¡¹ç›®å¤ªç´¯äº†ï¼š

| ç—›ç‚¹ | ç°çŠ¶ |
|------|------|
| è¦ç­‰ | AI åœ¨è·‘ï¼Œä½ å¾—ç›¯ç€ |
| è¦äº¤äº’ | "ç»§ç»­ï¼Ÿ""å¥½ã€‚""è¿™æ ·è¡Œå—ï¼Ÿ""è¡Œã€‚" |
| è¦è·Ÿè¸ª | è·‘åˆ°å“ªäº†ï¼Ÿä»€ä¹ˆçŠ¶æ€ï¼Ÿ |
| è¦æµ‹è¯• | "åšå®Œäº†ï¼"...ç„¶åä½ å¾—æ‰‹åŠ¨æµ‹ |
| è¦åé¦ˆ | å‘ç° bug å‘Šè¯‰å®ƒï¼Œåˆä¸€ä¸ª bug å†å‘Šè¯‰å®ƒ |
| ç¦»å¼€å°±åœ | åˆä¸Šç”µè„‘ = è¿›åº¦å½’é›¶ |

**æ ¸å¿ƒé—®é¢˜**ï¼šAI å¼€å‘æ˜¯åŒæ­¥é˜»å¡çš„ï¼Œäººå¿…é¡»åœ¨åœºã€‚

## è§£å†³æ–¹æ¡ˆ

```
$ conductor submit "åšä¸€ä¸ªå¾…åŠæ¸…å•ï¼Œæ”¯æŒç”¨æˆ·ç™»å½•å’Œå¢åˆ æ”¹æŸ¥"

ğŸ“‹ ä»»åŠ¡å·²æäº¤: task-20241230-001
ğŸ“± Plan å°†æ¨é€åˆ°é£ä¹¦ï¼Œç­‰ä½ ç¡®è®¤

# å»é›ç‹—ã€å–å’–å•¡ã€å¹²åˆ«çš„...

# 15 åˆ†é’Ÿåï¼Œæ‰‹æœºå“äº†ï¼š
ğŸ‰ ä»»åŠ¡å®Œæˆï¼
   - åç«¯: 8 ä¸ª API âœ…
   - å‰ç«¯: 5 ä¸ªé¡µé¢ âœ…
   - æµ‹è¯•: 23/23 é€šè¿‡ âœ…
   - å¯åŠ¨: docker-compose up
```

## å·¥ä½œåŸç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Conductor æœåŠ¡                      â”‚
â”‚                  (7x24 è¿è¡Œ)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  æäº¤ â†’ Plan ç¡®è®¤ â†’ è‡ªåŠ¨æ‰§è¡Œ â†’ é€šçŸ¥                  â”‚
â”‚            â†‘                                        â”‚
â”‚       [äººå·¥ç¡®è®¤]                                     â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            è‡ªæ²»å¾ªç¯                          â”‚   â”‚
â”‚  â”‚   ç”Ÿæˆ â†’ æµ‹è¯• â†’ ä¿®å¤ â†’ æµ‹è¯• â†’ ä¿®å¤ â†’ å®Œæˆ    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®æ£€æŸ¥ç‚¹

| é˜¶æ®µ | æ¨¡å¼ | åŸå›  |
|------|------|------|
| **Plan** | äººå·¥ç¡®è®¤ | æ–¹å‘ä¸èƒ½é”™ï¼Œçœ token |
| **è®¾è®¡** | è‡ªåŠ¨ | Plan å·²ç¡®è®¤ï¼Œæ”¾å¿ƒè·‘ |
| **å¼€å‘** | è‡ªåŠ¨ + è‡ªæ„ˆ | æµ‹è¯• â†’ ä¿®å¤ â†’ å¾ªç¯ |
| **äº¤ä»˜** | äººå·¥éªŒæ”¶ | æœ€ç»ˆæŠŠå…³ |

## å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/slicenferqin/Conductor.git
cd Conductor

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv .venv
source .venv/bin/activate  # Windows: `.venv\Scripts\activate`

# å®‰è£…ä¾èµ–
pip install -e ".[dev]"
```

## å¿«é€Ÿå¼€å§‹

```bash
# å¯åŠ¨æœåŠ¡ï¼ˆåå°æ¨¡å¼ï¼‰
conductor server --daemon

# æäº¤ä»»åŠ¡
conductor submit "åšä¸€ä¸ªåšå®¢ç³»ç»Ÿï¼Œæ”¯æŒæ–‡ç« å’Œè¯„è®º"

# æŸ¥çœ‹çŠ¶æ€
conductor status task-xxx

# æ‹‰å–å®Œæˆçš„é¡¹ç›®
conductor pull task-xxx --output ./my-blog
```

## CLI å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `conductor submit <éœ€æ±‚>` | æäº¤æ–°ä»»åŠ¡ |
| `conductor status <task-id>` | æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€ |
| `conductor list` | åˆ—å‡ºæ‰€æœ‰ä»»åŠ¡ |
| `conductor pull <task-id>` | ä¸‹è½½å®Œæˆçš„é¡¹ç›® |
| `conductor server` | å¯åŠ¨ Conductor æœåŠ¡ |

## é…ç½®

åœ¨ home ç›®å½•åˆ›å»º `.conductor.yaml`ï¼š

```yaml
# é€šçŸ¥è®¾ç½®
notifications:
  default: feishu  # æˆ–: wechat, email, terminal
  feishu:
    app_id: "your_app_id"
    app_secret: "your_app_secret"

# æ‰§è¡Œè®¾ç½®
execution:
  max_fix_attempts: 3      # è‡ªåŠ¨ä¿®å¤æ¬¡æ•°ä¸Šé™
  checkpoint_timeout: 30m  # äººå·¥ç¡®è®¤è¶…æ—¶æ—¶é—´

# æŠ€æœ¯æ ˆï¼ˆMVP å›ºå®šï¼‰
tech_stack:
  backend: fastapi
  frontend: react
  database: postgresql
```

## é¡¹ç›®ç»“æ„

```
conductor/
â”œâ”€â”€ conductor/
â”‚   â”œâ”€â”€ cli/                 # CLI å®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ main.py
â”‚   â”œâ”€â”€ server/              # åå°æœåŠ¡
â”‚   â”‚   â””â”€â”€ main.py
â”‚   â”œâ”€â”€ core/                # æ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ task_queue.py    # ä»»åŠ¡ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ executor.py      # ä»»åŠ¡æ‰§è¡Œ
â”‚   â”‚   â””â”€â”€ decomposer.py    # éœ€æ±‚åˆ†æ
â”‚   â”œâ”€â”€ integrations/        # å¤–éƒ¨é›†æˆ
â”‚   â”‚   â””â”€â”€ claude_cli.py    # Claude Code é›†æˆ
â”‚   â”œâ”€â”€ notifications/       # é€šçŸ¥æœåŠ¡
â”‚   â”‚   â””â”€â”€ base.py
â”‚   â””â”€â”€ roles/               # AI è§’è‰²
â”‚       â””â”€â”€ base.py
â”œâ”€â”€ tests/
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ PRODUCT_SPEC.md      # äº§å“è§„åˆ’
â”‚   â””â”€â”€ LESSONS_LEARNED.md   # ä½¿ç”¨ç»éªŒ
â””â”€â”€ pyproject.toml
```

## è·¯çº¿å›¾

### Phase 1: æ ¸å¿ƒåŠŸèƒ½ï¼ˆå½“å‰ï¼‰
- [x] é¡¹ç›®ç»“æ„
- [ ] ä»»åŠ¡é˜Ÿåˆ—å’Œæ‰§è¡Œå™¨
- [ ] Claude Code é›†æˆ
- [ ] åŸºç¡€ CLI
- [ ] ç»ˆç«¯é€šçŸ¥

### Phase 2: è‡ªæ²»å¾ªç¯
- [ ] è‡ªåŠ¨æµ‹è¯•æ‰§è¡Œ
- [ ] è‡ªåŠ¨ä¿®å¤å¾ªç¯
- [ ] é£ä¹¦/å¾®ä¿¡é€šçŸ¥
- [ ] åå°æ¨¡å¼

### Phase 3: æ‰“ç£¨
- [ ] Web è¿›åº¦ç•Œé¢
- [ ] æˆæœ¬ä¼°ç®—
- [ ] å¤šæŠ€æœ¯æ ˆæ”¯æŒ

## æŠ€æœ¯æ ˆ

- **åç«¯**: Python 3.11+, FastAPI
- **CLI**: Typer + Rich
- **AI å¼•æ“**: Claude Code CLI
- **ç”Ÿæˆé¡¹ç›®**: FastAPI + React + PostgreSQL + Docker

## ä¸é£ä¹¦é›†æˆ

Conductor å¯ä»¥ä¸ [claude-code-bot](https://github.com/slicenferqin/claude-code-bot) é…åˆä½¿ç”¨ï¼š

```
ç”¨æˆ· â†’ é£ä¹¦ â†’ claude-code-bot â†’ conductor (å¤æ‚ä»»åŠ¡)
                    â†“                  â†“
              ç®€å•ä»»åŠ¡ç›´æ¥æ‰§è¡Œ      å¤šä¼šè¯ååŒæ‰§è¡Œ
                    â†“                  â†“
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
                     ç»“æœè¿”å›é£ä¹¦
```

## ç›¸å…³é¡¹ç›®

Conductor åŸºäºè¿™äº›ä¼˜ç§€å·¥å…·ï¼š

- [Claude Code](https://claude.ai/code) - AI ç¼–ç¨‹åŠ©æ‰‹
- [Beads](https://github.com/steveyegge/beads) - Agent è®°å¿†ç³»ç»Ÿ
- [OpenSkills](https://github.com/numman-ali/openskills) - é€šç”¨æŠ€èƒ½åŠ è½½å™¨

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·å…ˆé˜…è¯»è´¡çŒ®æŒ‡å—ã€‚

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE)

---

**åˆ«å†ç›¯ç€äº†ã€‚äº¤ç»™å®ƒã€‚**